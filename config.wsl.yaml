# WSL2-safe training profile (reduced data + memory caps for local debugging)
# Use with: CONFIG_FILE=config.wsl.yaml python src/forex_bot/main.py --train

system:
  symbols: [EURUSD]
  history_years: 2
  use_volume_features: true
  max_training_rows_per_tf: 100000
  discovery_auto_cap: true
  discovery_max_rows: 100000
  discovery_stream: true
  cache_training_frames: false
  training_cache_max_bytes: 500000000

models:
  # Keep discovery enabled but scaled down for local runs
  prop_search_enabled: true
  prop_search_population: 20
  prop_search_generations: 5
  prop_search_max_hours: 0.10
  prop_search_max_rows: 100000
  prop_search_max_rows_by_tf:
    M1: 100000
    M3: 100000
    M5: 100000
  prop_search_train_years: 8
  prop_search_val_years: 1
  prop_search_val_min_trades_per_month: 30
  prop_search_val_min_trades_per_day: 1.0
  prop_search_val_log_trades: true
  prop_search_val_trade_log_max: 50
  prop_search_async: false
  prop_search_async_wait: false
  tree_device_preference: cpu
  # Reduce HPO for local debugging
  hpo_trials: 0
  hpo_max_rows: 100000
  # Global pooling caps
  global_max_rows_per_symbol: 100000
  # Smaller batch size to reduce memory spikes
  train_batch_size: 16
  inference_batch_size: 16

news:
  enable_news: true
  news_backfill_days: 30
