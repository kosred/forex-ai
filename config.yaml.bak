system:
  symbol: EURUSD
  symbols: [EURUSD]
  data_dir: data
  base_timeframe: M1  # 1-minute base for multi-timeframe analysis
  higher_timeframes: [M3, M5, M15, M30, H1, H4, D1, W1]
  history_years: 10
  trading_session_start: "00:05"
  trading_session_end: "23:55"
  session_timezone: UTC
  broker_backend: mt5_local
  mt5_required: false  # Set to false for training-only mode (headless cloud GPU servers)
  mt5_terminal_path: ""
  mt5_login: 0
  mt5_password: ""
  mt5_server: ""
  mt5_timeout_seconds: 30
  poll_interval_seconds: 60
  metrics_logging_enabled: true
  metrics_db_path: metrics.sqlite
  risk_ledger_enabled: true
  risk_ledger_max_events: 1000
  strategy_ledger_path: strategy_ledger.sqlite
  enable_dashboard: true
  cache_enabled: true
  cache_dir: cache
  cache_max_age_minutes: 0
  # Hardware is detected automatically (CPU/GPU/RAM)
  # Set preference to "auto", "true" (force GPU), or "false" (force CPU)
  enable_gpu_preference: auto

risk:
  initial_balance: 10000  # Fallback used when MT5 balance unavailable
  min_risk_per_trade: 0.005
  max_risk_per_trade: 0.030
  risk_per_trade: 0.015
  daily_drawdown_limit: 0.045
  total_drawdown_limit: 0.08
  min_risk_reward: 2.0
  spread_guard_multiplier: 2.5
  slippage_guard_multiplier: 2.0
  challenge_mode: true
  challenge_phase: phase_1
  prop_firm_rules: true
  max_daily_risk_pct: 0.04
  base_risk_per_trade: 0.01
  daily_risk_budget: 0.040
  consistency_tracking: true
  min_confidence_threshold: 0.55
  kill_zones_enabled: true
  enhanced_features: true
  uncertainty_quantification: true
  max_trades_per_day: 8
  daily_profit_stop_pct: 0.025
  high_quality_confidence: 0.65
  high_quality_risk_pct: 0.030
  high_quality_rr: 2.0
  atr_period: 14
  atr_stop_multiplier: 1.5
  triple_barrier_max_bars: 35
  trailing_enabled: true
  trailing_atr_multiplier: 1.0
  trailing_be_trigger_r: 1.0
  kelly_lambda: 1.0
  slippage_pips: 0.5
  commission_per_lot: 7.0
  backtest_spread_pips: 1.5
  cost_penalty_r: 0.0
  gate_trade_prob: 0.55
  daily_hard_stop_pct: 0.04
  conformal_alpha: 0.10
  volatility_stop_sigma: 0.02
  volatility_lookback: 50
  meta_label_tp_pips: 20.0
  meta_label_sl_pips: 20.0
  meta_label_max_hold_bars: 100
  meta_label_min_prob_threshold: 0.55

models:
  ml_models: [lightgbm, random_forest, elasticnet, xgboost, catboost]
  use_rl_agent: true
  use_sac_agent: true
  use_neuroevolution: true
  rl_population_size: 5
  rl_timesteps: 100000
  rl_eval_episodes: 15
  rl_network_arch: [256, 256]
  rl_parallel_envs: 1
  rl_train_seconds: 3600
  evo_train_seconds: 3600
  evo_hidden_size: 64
  evo_population: 32
  evo_islands: 4
  train_batch_size: 32
  inference_batch_size: 32
  enable_transformer_expert: true
  transformer_heads: 8
  transformer_layers: 4
  transformer_hidden_dim: 256
  transformer_dropout: 0.10
  transformer_seq_len: 64
  transformer_train_seconds: 3600
  nbeats_train_seconds: 1800
  tide_train_seconds: 1800
  tabnet_train_seconds: 1800
  kan_train_seconds: 1800
  num_transformers: 2
  optuna_trials: 20
  optuna_reuse_study: true
  prop_metric_weight: 1.0
  prop_accuracy_weight: 0.1
  prop_min_trades: 30
  prop_conf_threshold: 0.55
  walkforward_splits: 0  # DISABLED - No walk-forward waste during training
  embargo_minutes: 120
  # CPCV (Combinatorial Purged Cross-Validation) settings
  enable_cpcv: true
  cpcv_n_splits: 5
  cpcv_n_test_groups: 2
  cpcv_embargo_pct: 0.01
  cpcv_purge_pct: 0.02
  cpcv_min_phi: 0.80

news:
  news_model: tfidf_linear
  news_model_path: models/news_nlp.joblib
  news_decay_minutes: 120
  news_kill_window_min: 30
  news_confidence_threshold: 0.65
  news_calendar_enabled: true
  news_calendar_source: forexfactory
  news_lookahead_minutes: 60
  news_trade_on_event: true
  news_trade_confidence_threshold: 0.90
  news_event_risk_pct: 0.001  # minimal risk per event (0.1%)
  enable_news: true
  news_sources: [rss] 
  rss_feeds: 
    - https://www.forexfactory.com/ffcal_week_this.xml
    - https://www.dailyfx.com/feeds/market-news
  news_local_glob: ""
  news_backfill_enabled: true
  news_backfill_days: 0  # 0 = full data span
  enable_llm_helper: true
  llm_helper_enabled: true
